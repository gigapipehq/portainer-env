{
  "version": "2",
  "templates": [
    {
      "type": 3,
      "title": "Gigapipe Monitoring Stack",
      "description": "A full monitoring stack with Grafana, ClickHouse, and Gigapipe reader/writer services. Includes optional tiered storage to S3.",
      "name": "gigapipe-stack",
      "logo": "https://raw.githubusercontent.com/portainer/templates/master/logos/grafana.png",
      "platform": "linux",
      "categories": ["Monitoring", "Database"],
      "repository": {
        "url": "http://host.docker.internal:3000/akvlad/gigapipe-portainer-env",
        "stackfile": "stack.yaml"
      },
      "env": [
        {
          "name": "CLICKHOUSE_DATA_PATH",
          "label": "ClickHouse Data Path",
          "description": "Absolute path on the host to store ClickHouse data.",
          "default": "/var/data/clickhouse"
        },
        {
          "name": "CLICKHOUSE_USER",
          "label": "ClickHouse User",
          "description": "The username for the ClickHouse database. This should almost always be 'default'.",
          "default": "default"
        },
        {
          "name": "CLICKHOUSE_PASSWORD",
          "label": "ClickHouse Password",
          "description": "The password for the ClickHouse user. Change this to a secure password.",
          "default": "changeme"
        },
        {
          "name": "GRAFANA_PORT",
          "label": "Grafana Port",
          "description": "Host port to access the Grafana UI.",
          "default": "3000"
        },
        {
          "name": "GRAFANA_ADMIN_USER",
          "label": "Grafana Admin User",
          "default": "admin"
        },
        {
          "name": "GRAFANA_ADMIN_PASSWORD",
          "label": "Grafana Admin Password",
          "description": "Set a secure password for the Grafana admin user.",
          "default": "changeme"
        },
        {
          "name": "WRITER_PORT",
          "label": "Gigapipe Writer Port",
          "description": "Host port for the Gigapipe writer service.",
          "default": "3103"
        },
        {
          "name": "READER_PORT",
          "label": "Gigapipe Reader Port",
          "description": "Host port for the Gigapipe reader service.",
          "default": "3102"
        },
        {
          "name": "S3_HOST",
          "label": "S3 Host",
          "description": "S3 endpoint host (e.g., s3.amazonaws.com). Leave blank to disable S3 storage.",
          "default": ""
        },
        {
          "name": "S3_BUCKET",
          "label": "S3 Bucket",
          "description": "S3 bucket name. Leave blank to disable S3 storage.",
          "default": ""
        },
        {
          "name": "S3_PREFIX",
          "label": "S3 Prefix (Optional)",
          "description": "Optional prefix (folder) within the S3 bucket.",
          "default": ""
        },
        {
          "name": "S3_KEY",
          "label": "S3 Access Key ID",
          "description": "Your S3 access key ID. Leave blank to disable S3 storage.",
          "default": ""
        },
        {
          "name": "S3_SECRET",
          "label": "S3 Secret Access Key",
          "description": "Your S3 secret access key. Leave blank to disable S3 storage.",
          "default": ""
        }
      ]
    }
  ]
}
